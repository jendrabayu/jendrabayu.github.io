(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],[function(e,t,n){"use strict";var r={API_KEY:"12345",BASE_URL:"https://restaurant-api.dicoding.dev",BASE_IMAGE_URL:"https://restaurant-api.dicoding.dev/images",DEFAULT_LANGUAGE:"en-us",CACHE_NAME:{prefix:"backyard-bowls",suffix:"v1",precache:"precache",runtime:"runtime"},DATABASE_NAME:"backyardbowls",OBJECT_STORE_NAME:"restaurants",WEB_SOCKET_SERVER:""};t["a"]=r},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n.d(t,"b",function(){return r});var r=function e(t){t.innerHTML='\n    <div class="no-content">\n       <div class="loading">\n        <div class="lds-ring">\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div>\n  '};var i=function e(t,n){t.innerHTML='\n    <div class="no-content">\n      <div class="has-error">\n        <p>'.concat(n,"</p>\n      </div>\n    </div>\n  ")}},function(e,t,n){"use strict";var r={show:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"No message...";this._container=document.querySelector(".toast-container");this._container.innerHTML="";var n=document.createElement("toast-component");n.message=t;this._container.appendChild(n);n.classList.add("toast","show");setTimeout(function(){n.classList.remove("show")},3e3)}};t["a"]=r},function(e,t,n){"use strict";var r=n(0);function c(e,t,n,r,i,a,o){try{var s=e[a](o);var c=s.value}catch(e){n(e);return}if(s.done){t(c)}else{Promise.resolve(c).then(r,i)}}function a(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=s.apply(e,o);function i(e){c(r,t,n,i,a,"next",e)}function a(e){c(r,t,n,i,a,"throw",e)}i(undefined)})}}var u=r["a"].BASE_URL,v=r["a"].API_KEY;var f=function e(r){return r.text().then(function(e){var t=e&&JSON.parse(e);if(!r.ok){var n=t||r.statusText;return Promise.reject(n)}return t})};var i={getAll:function e(){return a(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return fetch("".concat(u,"/list"));case 2:n=t.sent;t.next=5;return f(n);case 5:r=t.sent;return t.abrupt("return",r);case 7:case"end":return t.stop()}}},e)}))()},getById:function e(i){return a(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return fetch("".concat(u,"/detail/").concat(i," "));case 2:n=t.sent;t.next=5;return f(n);case 5:r=t.sent;return t.abrupt("return",r);case 7:case"end":return t.stop()}}},e)}))()},search:function e(i){return a(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return fetch("".concat(u,"/search?q=").concat(i));case 2:n=t.sent;t.next=5;return f(n);case 5:r=t.sent;return t.abrupt("return",r);case 7:case"end":return t.stop()}}},e)}))()},addReview:function e(c){return a(regeneratorRuntime.mark(function e(){var n,r,i,a,o,s;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:n=c.id,r=c.name,i=c.review;a={method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":v},body:JSON.stringify({id:n,name:r,review:i})};t.next=4;return fetch("".concat(u,"/review"),a);case 4:o=t.sent;t.next=7;return f(o);case 7:s=t.sent;return t.abrupt("return",s);case 9:case"end":return t.stop()}}},e)}))()}};t["a"]=i},function(e,t,n){"use strict";var r=n(20);var i=n(0);function c(e,t,n,r,i,a,o){try{var s=e[a](o);var c=s.value}catch(e){n(e);return}if(s.done){t(c)}else{Promise.resolve(c).then(r,i)}}function a(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=s.apply(e,o);function i(e){c(r,t,n,i,a,"next",e)}function a(e){c(r,t,n,i,a,"throw",e)}i(undefined)})}}var o=i["a"].DATABASE_NAME,s=i["a"].DATABASE_VERSION,u=i["a"].OBJECT_STORE_NAME;var v=Object(r["a"])(o,s,{upgrade:function e(t){t.createObjectStore(u,{keyPath:"id"})}});var f={getAll:function e(){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return v;case 2:return t.abrupt("return",t.sent.getAll(u));case 3:case"end":return t.stop()}}},e)}))()},getById:function e(n){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return v;case 2:return t.abrupt("return",t.sent.get(u,n));case 3:case"end":return t.stop()}}},e)}))()},put:function e(n){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return v;case 2:return t.abrupt("return",t.sent.put(u,n));case 3:case"end":return t.stop()}}},e)}))()},delete:function e(n){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return v;case 2:return t.abrupt("return",t.sent["delete"](u,n));case 3:case"end":return t.stop()}}},e)}))()}};t["a"]=f},function(e,t,n){"use strict";var r={parseActiveUrlWithCombiner:function e(){var t=window.location.hash.slice(1).toLocaleLowerCase();var n=this._urlSplitter(t);return this._urlCombiner(n)},parseActiveUrlWithoutCombiner:function e(){var t=window.location.hash.slice(1).toLocaleLowerCase();return this._urlSplitter(t)},_urlSplitter:function e(t){var n=t.split("/");return{resource:n[1]||null,id:n[2]||null,verb:n[3]||null}},_urlCombiner:function e(t){return(t.resource?"/".concat(t.resource):"/")+(t.id?"/:id":"")+(t.verb?"/".concat(t.verb):"")}};t["a"]=r},,,,,function(e,t,n){"use strict";var r={init:function e(t){var n=t.openButton,r=t.closeButton,i=t.modal,a=t.onClose,o=t.onShow;this._openButton=n;this._closeButton=r;this._modal=i;this._onShow=o;this._onClose=a;this._initModal()},close:function e(){this._modal.style.display="none";if(this._onClose){this._onClose()}},show:function e(){this._modal.style.display="block";if(this.onShow){this._onShow()}},_initModal:function e(){var t=this;this._openButton.addEventListener("click",function(){t.show()});this._closeButton.addEventListener("click",function(){t.close()});window.addEventListener("click",function(e){if(e.target===t._modal){t.close()}})}};t["a"]=r},function(e,t,n){"use strict";var r={init:function e(t){var n=this;var r=t.button,i=t.drawer,a=t.content;r.addEventListener("click",function(e){n._toggleDrawer(r,e,i)});a.addEventListener("click",function(e){n._closeDrawer(r,e,i)})},_toggleDrawer:function e(t,n,r){n.stopPropagation();r.classList.toggle("active");t.classList.toggle("active")},_closeDrawer:function e(t,n,r){n.stopPropagation();r.classList.remove("active");t.classList.remove("active")}};t["a"]=r},function(e,t,n){"use strict";var r=n(9);var i=n(18);var a=n(16);var o={"/":r["a"],"/home":r["a"],"/favorite":a["a"],"/detail/:id":i["a"]};t["a"]=o},function(e,t,n){"use strict";var i=n(14);var a=n(4);var o=n(2);function c(e,t,n,r,i,a,o){try{var s=e[a](o);var c=s.value}catch(e){n(e);return}if(s.done){t(c)}else{Promise.resolve(c).then(r,i)}}function s(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=s.apply(e,o);function i(e){c(r,t,n,i,a,"next",e)}function a(e){c(r,t,n,i,a,"throw",e)}i(undefined)})}}var r={init:function e(i){var a=this;return s(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:n=i.button,r=i.restaurant;a._button=n;a._restaurant=r;t.next=5;return a._renderButton();case 5:case"end":return t.stop()}}},e)}))()},_renderButton:function e(){var r=this;return s(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:n=r._restaurant.id;t.t0=n;if(!t.t0){t.next=6;break}t.next=5;return r._isRestaurantExist(n);case 5:t.t0=t.sent;case 6:if(!t.t0){t.next=10;break}r._renderFavoriteButton(false);t.next=11;break;case 10:r._renderFavoriteButton(true);case 11:case"end":return t.stop()}}},e)}))()},_renderFavoriteButton:function e(){var n=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this._button.innerHTML=Object(i["a"])(r);var t=document.querySelector(".btn-favorite");t.addEventListener("click",s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.prev=0;if(!r){t.next=7;break}t.next=4;return a["a"].put(n._restaurant);case 4:o["a"].show("Successfully added to favorites");t.next=10;break;case 7:t.next=9;return a["a"]["delete"](n._restaurant.id);case 9:o["a"].show("Successfully removed from favorites");case 10:t.next=12;return n._renderButton();case 12:t.next=17;break;case 14:t.prev=14;t.t0=t["catch"](0);o["a"].show(t.t0.message||t.t0);case 17:case"end":return t.stop()}}},e,null,[[0,14]])})))},_isRestaurantExist:function e(r){return s(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return a["a"].getById(r);case 2:n=t.sent;return t.abrupt("return",!!n);case 4:case"end":return t.stop()}}},e)}))()}};t["a"]=r},,function(e,t,n){"use strict";var r={init:function e(t){var n=t.tabLink,r=t.tabContent,i=t.tabOpen;this._tabLink=n;this._tabContent=r;this._tabOpen=i;this._initTab()},_initTab:function e(){var t=this;this._tabLink.forEach(function(e){t._tabLinkEvent(e)});this._tabOpen.click()},_tabLinkEvent:function e(t){var n=this;t.addEventListener("click",function(e){n._tabContent.forEach(function(e){e.style.display="none"});n._tabLink.forEach(function(e){e.className=e.className.replace("active","")});var t=e.target.dataset.target;document.getElementById(t).style.display="block";e.target.className+=" active"})}};t["a"]=r},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(21);var i=n(22);var a=n(19);var o=n(17);var s=function e(){if("serviceWorker"in navigator){var t=new o["a"]("../sw.js");t.register()}else{console.log("Service worker not supported in this browser")}};var c=s;function u(e,t,n,r,i,a,o){try{var s=e[a](o);var c=s.value}catch(e){n(e);return}if(s.done){t(c)}else{Promise.resolve(c).then(r,i)}}function v(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=s.apply(e,o);function i(e){u(r,t,n,i,a,"next",e)}function a(e){u(r,t,n,i,a,"throw",e)}i(undefined)})}}var f={sendNotification:function e(t){var n=t.title,r=t.options;if(!this._checkAvailability()){console.log("Notification not supported in this browser");return}if(!this._checkPermission()){console.log("User did not yet granted permission");this._requestPermission();return}this._showNotification({title:n,options:r})},_checkAvailability:function e(){return!!("Notification"in window)},_checkPermission:function e(){return Notification.permission==="granted"},_requestPermission:function e(){return v(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return Notification.requestPermission();case 2:n=t.sent;if(n==="denied"){console.log("Notification Denied")}if(n==="default"){console.log("Permission closed")}case 5:case"end":return t.stop()}}},e)}))()},_showNotification:function e(a){return v(regeneratorRuntime.mark(function e(){var n,r,i;return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:n=a.title,r=a.options;t.next=3;return navigator.serviceWorker.ready;case 3:i=t.sent;i.showNotification(n,r);case 5:case"end":return t.stop()}}},e)}))()}};var l=f;var d={init:function e(t){try{var n=new WebSocket(t);n.onmessage=this._onMessageHandler}catch(e){this._onMessageHandler("Welcome to Backyard Bowls")}},_onMessageHandler:function e(t){l.sendNotification({title:"Notification from websocket",options:{body:t,icon:"icons/icon-192x192.png",vibrate:[200,100,200]}})}};var h=d;var p=n(0);var w=n(8);var m=n(30);var _=new a["a"]({button:document.querySelector(".hamburger"),drawer:document.querySelector(".nav-menu"),content:document.querySelector("#app")});window.addEventListener("hashchange",function(){_.renderPage()});window.addEventListener("load",function(){_.renderPage();c();h.init(p["a"].WEB_SOCKET_SERVER)})}]]);