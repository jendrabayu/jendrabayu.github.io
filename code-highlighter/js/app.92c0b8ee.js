(function(e){function t(t){for(var a,n,i=t[0],l=t[1],c=t[2],d=0,h=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},o=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/code-highlighter/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"1e12":function(e,t,s){},"274f":function(e,t,s){"use strict";var a=s("cca3"),r=s.n(a);r.a},"365e":function(e,t,s){"use strict";var a=s("3adc"),r=s.n(a);r.a},"378b":function(e,t,s){},"3adc":function(e,t,s){},"4ad4":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],n=s("2877"),i={},l=Object(n["a"])(i,r,o,!1,null,null,null),c=l.exports,u=s("2f62"),d=(s("4de4"),s("c740"),s("a434"),s("d3b7"),"https://highlight-code-api.jefrydco.vercel.app/api"),h=s("bc3a"),g=s.n(h),m=s("72bf"),p=s("2907"),f=s.n(p),v=s("1888"),b=s.n(v);g.a.defaults.baseURL=d;var C={namespaced:!0,state:function(){return{codes:[],isLoading:!1,progress:!1,languages:[],twoslashes:["twoslash","tsconfig"]}},getters:{},mutations:{addCodes:function(e,t){e.codes=t},clearCodes:function(e){e.codes=[]},deleteCode:function(e,t){var s=e.codes.findIndex((function(e){return e.id==t}));console.log(s),s>=0&&e.codes.splice(s,1)},addLanguages:function(e,t){e.languages=t}},actions:{getList:function(e,t){var s=t.userId,a=t.filter;e.commit("clearCodes"),e.state.isLoading=!0;var r=a.page,o=a.limit,n=a.sortBy,i=a.sort,l=a.highlighted,c={url:"/code/list",query:f()({page:r,limit:o,sortBy:n,sort:i,highlighted:l})},u=Object(m["stringifyUrl"])(c,!0);g.a.post(u,{user:s}).then((function(t){e.state.isLoading=!1;var s=t.data;s.success&&!s.error&&e.commit("addCodes",s.data)})).catch((function(t){e.state.isLoading=!1,console.log(t)}))},getSingle:function(e,t){var s=t.userId,a=t.codeId,r=t.highlighted;return new Promise((function(e,t){g.a.post("/code/single?highlighted=".concat(r),{user:s,id:a}).then((function(s){var a=s.data;a.success&&!a.error&&e(a.data),t(a.message)})).catch((function(e){return t(e)}))}))},getImage:function(e,t){return new Promise((function(e,s){var a={url:d,query:f()({lang:t.lang,fileName:t.fileName,highlight:t.highlight,twoslash:t.twoslash,download:t.download})},r=Object(m["stringifyUrl"])(a,!0);g()({url:r,method:"POST",responseType:"blob",data:{code:t.code}}).then((function(t){t.data&&e(t.data),s(t)})).catch((function(e){console.log(e),s(e)}))}))},store:function(e,t){var s=t.userId,a=t.dataCode,r=a.code,o=a.lang,n=a.highlight,i=a.fileName,l=a.twoslash,c={user:s,content:f()({code:r,lang:o,highlight:n,fileName:i,twoslash:l})};return new Promise((function(e,t){g.a.post("/code/store",c).then((function(s){var a=s.data;a.success&&!a.error&&e(a.data),t(a.message)})).catch((function(e){console.log(e),t(e)}))}))},update:function(e,t){var s=t.userId,a=t.codeId,r=t.fileName,o=t.lang,n=t.highlight,i=t.code;return new Promise((function(e,t){g.a.post("/code/edit",f()({id:a,user:s,content:{fileName:r,highlight:n,lang:o,code:i}})).then((function(s){var a=s.data;a.success&&!a.error&&e(a),t(a.message)})).catch((function(e){return t(e)}))}))},delete:function(e,t){return new Promise((function(s,a){g.a.post("/code/delete",{id:t.codeId,user:t.userId}).then((function(r){var o=r.data;o.success&&!o.error&&(console.log(t.codeId),e.commit("deleteCode",t.codeId),s("Code deleted successfully")),a(o.message)})).catch((function(e){a(e)}))}))},getLanguages:function(e){g.a.get("/options").then((function(t){var s=t.data;s.success&&!s.error&&e.commit("addLanguages",s.data.languages)})).catch((function(e){b.a.error({title:"Failed to get languages list",message:e}),console.log(e)}))}}},y=C,_=(s("b0c0"),s("a78e")),w=s.n(_);g.a.defaults.baseURL=d;var x={namespaced:!0,state:function(){return{id:w.a.get("id")||null,name:w.a.get("name")||null,progress:!1}},getters:{},mutations:{addUser:function(e,t){var s=t.id,a=t.name;e.id=s,e.name=a},deleteUser:function(e){e.id=null,e.name=null}},actions:{login:function(e,t){return e.state.progress=!0,new Promise((function(s,a){g.a.post("/user/login",{name:t}).then((function(t){var r=t.data;e.state.progress=!1,r.success&&!r.error&&(w.a.set("id",r.data.id),w.a.set("name",r.data.name),e.commit("addUser",r.data),s(r.data)),a(r.message)})).catch((function(t){e.state.progress=!1,a(t)}))}))},register:function(e,t){return e.state.progress=!0,new Promise((function(s,a){g.a.post("/user/register",{name:t}).then((function(t){var r=t.data;e.state.progress=!1,r.success&&!r.error&&s(r.data),a(r.message)})).catch((function(t){e.state.progress=!1,a(t)}))}))},logout:function(e){w.a.remove("id"),w.a.remove("name"),e.commit("deleteUser")}}},$=x;a["a"].use(u["a"]);var S,k,E=new u["a"].Store({modules:{code:y,user:$}}),O=E,N=(s("45fc"),s("8c4f")),P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-auth",{attrs:{authFor:"login",placeholder:"Enter your username...",errorMessage:e.errorMessage,successMessage:e.successMessage},scopedSlots:e._u([{key:"button",fn:function(){return[e._v("Login")]},proxy:!0},{key:"link",fn:function(){return[e._v(" Don’t have an account? "),s("router-link",{attrs:{to:{name:"register"}}},[e._v("Sign up")])]},proxy:!0}])})},j=[],V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"px-5"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-three-fifths"},[s("header",{staticClass:"has-text-centered has-text-weight-light is-size-1-tablet is-size-3-mobile"},[e._v(" code highlighter ")]),s("div",{attrs:{id:"content"}},["login"==e.authFor?s("h1",{staticClass:"title is-size-3 has-text-weight-light"},[s("span",{staticClass:"has-text-weight-bold"},[e._v("Log")]),e._v(" in ")]):"register"==e.authFor?s("h1",{staticClass:"title is-size-3 has-text-weight-light"},[s("span",{staticClass:"has-text-weight-bold"},[e._v("Sign")]),e._v(" up ")]):e._e(),s("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit;return[s("form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)}}},[s("v-alert-message",{directives:[{name:"show",rawName:"v-show",value:e.message.error||e.message.success,expression:"message.error || message.success"}],attrs:{color:e.alertColor,message:e.alertMessage},on:{close:e.clearMessage}}),s("ValidationProvider",{attrs:{name:"username",rules:"required|min:3"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field has-addons mb-1"},[s("v-input",{attrs:{placeholder:e.placeholder,disabled:e.$store.state.user.progress,hasError:e.hasError(a[0]),value:e.username},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("div",{staticClass:"ml-2"},[s("v-button",{attrs:{hasLoading:e.$store.state.user.progress,disabled:e.$store.state.user.progress,hasError:e.hasError(a[0])}},[e._t("button")],2)],1)],1),s("v-input-error",{attrs:{error:a[0]}}),s("p",{staticClass:"has-text-center is-size-6 mt-3"},[e._t("link")],2)]}}],null,!0)})],1)]}}])})],1),e._m(0)])])])])},M=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"has-text-centered mt-6"},[s("a",{staticClass:"is-size-6 has-text-white",attrs:{href:"https://github.com/jendrabayu",target:"blank"}},[e._v("© 2020 by Jendra")])])}],A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"notification is-light py-2 mb-3",class:e.color},[s("button",{staticClass:"delete",on:{click:function(t){return e.$emit("close")}}}),s("small",[e._v(e._s(e.message))])])},I=[],L={name:"alert-message",props:{color:{type:String,required:!0},message:{type:String,required:!0}}},q=L,B=Object(n["a"])(q,A,I,!1,null,null,null),R=B.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"control is-expanded"},[s("input",{ref:"input",staticClass:"input",class:{"is-danger":e.hasError},attrs:{type:e.type,placeholder:e.placeholder,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])},D=[],z={props:{type:{type:String,default:"text"},placeholder:{type:String,default:"Placeholder input here.."},disabled:{type:Boolean,default:!1},value:{type:String},hasError:{type:Boolean,default:!1}},methods:{focus:function(){this.$refs.input.focus()}}},H=z,T=Object(n["a"])(H,F,D,!1,null,null,null),U=T.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"control"},[s("button",{staticClass:"button px-5",class:["is-link",e.isDanger,e.className,e.isLoading],attrs:{type:e.type,disabled:e.disabled},on:{click:function(t){return e.$emit("click",t.target.value)}}},[e._t("default")],2)])},J=[],W={props:{type:{type:String,default:"submit"},hasError:{type:Boolean,default:!1},hasLoading:{type:Boolean,default:!1},className:{type:String},disabled:{type:Boolean,default:!1}},computed:{isError:function(){return"is-danger"},isLoading:function(){return this.hasLoading?"is-loading":""},isDanger:function(){return this.hasError?"is-danger":""}}},G=W,K=Object(n["a"])(G,Y,J,!1,null,null,null),Q=K.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"help is-danger"},[e._v(e._s(e.error))])},Z=[],ee={props:{error:{type:String,default:null}}},te=ee,se=Object(n["a"])(te,X,Z,!1,null,null,null),ae=se.exports,re={components:{VAlertMessage:R,VInput:U,VButton:Q,VInputError:ae},props:{errorMessage:{type:String},successMessage:{type:String},placeholder:{type:String},authFor:{type:String,default:"login",required:!0}},data:function(){return{message:{error:this.errorMessage,success:this.successMessage},username:""}},methods:{onSubmit:function(){"login"==this.authFor?this.login():"register"==this.authFor&&this.register()},register:function(){var e=this;this.clearMessage(),this.username&&this.username.length>0&&this.$store.dispatch("user/register",this.username).then((function(){e.$toast.success({title:"Registration is successfully",message:"You Can Login Here"}),e.$router.push({name:"login",params:{successMessage:"Registration is successfully, Please login to your account"}})})).catch((function(t){e.$toast.error({title:"Registration failed",message:t}),e.message.error=t,e.username="",e.$refs.form.reset()}))},login:function(){var e=this;this.clearMessage(),this.username&&this.username&&this.username.length>0&&this.$store.dispatch("user/login",this.username).then((function(){e.$toast.success({title:"Login is successful",message:"Welcome "+e.$store.state.user.name}),e.$router.push({name:"home"})})).catch((function(t){e.$toast.error({title:"Login failed",message:t}),e.$router.push({name:"home"}),e.message.error=t,e.username="",e.$refs.form.reset()}))},clearMessage:function(){this.message.error="",this.message.success=""}},computed:{alertMessage:function(){return this.message.error&&this.message.error.length>0?this.message.error:this.message.success&&this.message.success.length>0?this.message.success:""},alertColor:function(){return this.message.error&&this.message.error.length>0?"is-danger":this.message.success&&this.message.success.length>0?"is-success":""},hasError:function(){return function(e){return!!e}}},beforeCreate:function(){document.body.className="bg_auth"}},oe=re,ne=(s("274f"),Object(n["a"])(oe,V,M,!1,null,"567960ab",null)),ie=ne.exports,le={components:{VAuth:ie},props:{errorMessage:{type:String},successMessage:{type:String}}},ce=le,ue=Object(n["a"])(ce,P,j,!1,null,null,null),de=ue.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},ge=[],me={created:function(){this.$store.dispatch("user/logout"),this.$router.push({name:"login"})}},pe=me,fe=Object(n["a"])(pe,he,ge,!1,null,null,null),ve=fe.exports,be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-auth",{attrs:{authFor:"register",placeholder:"Enter your username...",errorMessage:e.errorMessage,successMessage:e.successMessage},scopedSlots:e._u([{key:"button",fn:function(){return[e._v("Sign up")]},proxy:!0},{key:"link",fn:function(){return[e._v(" Already have an account? "),s("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])]},proxy:!0}])})},Ce=[],ye={components:{VAuth:ie},props:{errorMessage:{type:String},successMessage:{type:String}}},_e=ye,we=Object(n["a"])(_e,be,Ce,!1,null,null,null),xe=we.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-navbar"),s("main",{staticClass:"px-5"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-full mt-6 box px-4 py-5"},[s("h1",{staticClass:"title is-size-3-tablet is-size-4-mobile mb-6"},[e._v(" Create and share beautiful images of your source code. Start typing or drop a file into the text area to get started. ")]),s("v-alert-message",{directives:[{name:"show",rawName:"v-show",value:e.message.error||e.message.success,expression:"message.error || message.success"}],attrs:{color:e.alertColor,message:e.alertMessage},on:{close:e.clearMessage}}),s("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit;return[s("form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)}}},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("code-languange-options",{attrs:{progress:e.progress,value:e.languange},on:{input:function(t){return e.languange=t}}})],1),"json"==e.languange||"typescript"==e.languange?s("div",{staticClass:"column"},[s("code-twoslash-options",{attrs:{progress:e.progress},on:{input:function(t){return e.form.twoslash=t}}})],1):e._e(),s("div",{staticClass:"column"},[s("ValidationProvider",{attrs:{name:"filename",rules:"required|min:5|filename"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("v-input",{attrs:{placeholder:"Filename",disabled:e.progress,hasError:e.getError(a[0])},model:{value:e.form.fileName,callback:function(t){e.$set(e.form,"fileName",t)},expression:"form.fileName"}}),s("v-input-error",{attrs:{error:a[0]}})],1)]}}],null,!0)})],1),s("div",{staticClass:"column"},[s("ValidationProvider",{attrs:{name:"highlight row",rules:"highlightRow"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("v-input",{attrs:{placeholder:"Highlight Row",hasError:e.getError(a[0]),disabled:e.progress},model:{value:e.form.highlight,callback:function(t){e.$set(e.form,"highlight",t)},expression:"form.highlight"}}),s("v-input-error",{attrs:{error:a[0]}})],1)]}}],null,!0)})],1)]),s("ValidationProvider",{attrs:{name:"code",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("v-text-area",{attrs:{placeholder:"Write or paste your code here...",rows:5,disabled:e.progress,hasError:e.getError(a[0]),value:e.form.code},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),s("v-input-error",{attrs:{error:a[0]}})],1)]}}],null,!0)}),s("div",{staticClass:"field is-grouped is-grouped-right mt-4"},[s("v-button",{attrs:{type:"button",disabled:e.progress,className:"is-link is-outlined"},on:{click:e.resetForm}},[e._v("Reset")]),s("v-button",{attrs:{hasLoading:e.progress}},[e._v("Save")])],1)],1)]}}])})],1)])])]),e.modal.show?s("code-item-modal",{attrs:{isActive:e.modal.show,dataCode:e.modal.code},on:{close:e.closeModal}}):e._e()],1)},Se=[],ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar is-info py-2",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"navbar-brand"},[s("router-link",{staticClass:"navbar-item is-uppercase is-size-5 has-text-weight-medium",attrs:{to:{name:"home"}}},[e._v("code highlighter")]),s("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:e.showMenu}},[s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}})])],1),s("div",{staticClass:"navbar-menu",class:{"is-active":e.isActive},attrs:{id:"navbarBasicExample"}},[s("div",{staticClass:"navbar-end"},[s("router-link",{staticClass:"navbar-item mr-2",attrs:{to:{name:"home"}}},[e._v("Home")]),s("router-link",{staticClass:"navbar-item mr-2",attrs:{to:{name:"code"}}},[e._v("Code")]),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-danger",on:{click:e.handleLogout}},[e._v(" Logout ")])])],1)])])])},Ee=[],Oe=s("1940"),Ne=s.n(Oe),Pe={name:"v-navbar",data:function(){return{isActive:!1}},methods:{showMenu:function(){0==this.isActive?this.isActive=!0:this.isActive=!1},handleLogout:function(){var e=this;Ne()({title:"Logout",text:"Are you sure?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&e.$router.push({name:"logout"})}))}}},je=Pe,Ve=Object(n["a"])(je,ke,Ee,!1,null,null,null),Me=Ve.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",class:{"is-active":e.active}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("section",{staticClass:"modal-card-body"},[s("v-code-item",{attrs:{dataCode:e.code}})],1),s("footer",{staticClass:"modal-card-foot"},[s("router-link",{staticClass:"button is-success",attrs:{to:{name:"code"}}},[e._v("See All Codes")]),s("button",{staticClass:"button",on:{click:e.handleClose}},[e._v("Close")])],1)])])},Ie=[],Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"code_item_header"},[s("div",{staticClass:"buttons mb-0"},[s("router-link",{staticClass:"button is-warning is-small",attrs:{to:{path:"code/"+e.code.id}}},[s("span",[e._v(" Edit")]),s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"far fa-edit"})])]),s("v-button-icon",{attrs:{progress:e.deleteProgress,disabled:e.deleteProgress,title:"Delete",color:"is-danger",size:"is-small",icon:"far fa-trash-alt"},on:{click:e.deleteCode}}),s("v-button-icon",{attrs:{progress:e.downloadProgress,disabled:e.downloadProgress,title:"Download",color:"is-primary",size:"is-small",icon:"fas fa-download"},on:{click:e.downloadCode}})],1),s("div",[s("small",[e._v(e._s(e.getCreatedAt))])])]),s("data-code",{attrs:{code:e.code.code,lang:e.code.lang,isHighlighted:1}})],1)},qe=[],Be=(s("a9e3"),s("593d")),Re=s("21eb"),Fe={name:"data-code",props:{code:{default:"",required:!0},lang:{default:"",required:!0},isHighlighted:{type:Number,default:1,required:!0}},data:function(){return{templateRender:null}},computed:{whichCode:function(){return Object(Be["boolean"])(this.isHighlighted)?"<div>".concat(this.code,"</div>"):'<pre class="shiki-unparsed">'.concat("html"===this.lang?Object(Re["htmlEscape"])(this.code):this.code,"</pre>")}},watch:{whichCode:{immediate:!0,handler:function(e){var t=a["a"].compile(e);for(var s in this.templateRender=t.render,this.$options.staticRenderFns=[],this._staticTrees=[],t.staticRenderFns)this.$options.staticRenderFns.push(t.staticRenderFns[s])}}},render:function(){return this.templateRender&&this.templateRender()}},De=Fe,ze=Object(n["a"])(De,S,k,!1,null,null,null),He=ze.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"button",class:[e.color,e.size,e.loading],attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("click",t)}}},[s("span",[e._v(e._s(e.title))]),s("span",{staticClass:"icon"},[s("i",{class:[e.icon,e.size]})])])},Ue=[],Ye={props:{title:{type:[String,Number],required:!0},icon:{type:String,required:!0},size:{type:String,default:""},type:{type:String,default:"submit"},progress:{type:Boolean,default:!1},color:{type:String,default:"is-link"},disabled:{type:Boolean,default:!1}},computed:{loading:function(){return this.progress?"is-loading":""}}},Je=Ye,We=Object(n["a"])(Je,Te,Ue,!1,null,null,null),Ge=We.exports,Ke=s("21a6"),Qe=s("cb7c"),Xe=s.n(Qe),Ze={name:"v-code-item",components:{DataCode:He,VButtonIcon:Ge},props:{dataCode:{type:[Array,Object],required:!0}},data:function(){return{downloadProgress:!1,deleteProgress:!1,code:this.dataCode}},methods:{downloadCode:function(){var e=this;this.downloadProgress=!0,this.$store.dispatch("code/getSingle",{userId:this.$store.state.user.id,codeId:this.code.id,highlighted:0}).then((function(t){var s={lang:t.lang,fileName:t.fileName,highlight:t.highlight,twoslash:t.twoslash,download:1,code:t.code};e.$store.dispatch("code/getImage",s).then((function(t){e.downloadProgress=!1,console.log(t),Object(Ke["saveAs"])(t,"".concat((new Date).getTime(),"-kode.png"))})).catch((function(t){e.downloadProgress=!1,console.log(t)}))})).catch((function(t){e.downloadProgress=!1,console.log(t)}))},deleteCode:function(){var e=this;Ne()({title:"Delete Code?",text:"Once deleted, you will not be able to recover this imaginary file!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&(e.deleteProgress=!0,e.$store.dispatch("code/delete",{userId:e.$store.state.user.id,codeId:e.code.id}).then((function(t){Ne()(t,{icon:"success"}),e.deleteProgress=!1,console.log(t)})).catch((function(t){Ne()("Delete failed, please try again",{icon:"error"}),e.deleteProgress=!1,console.log(t)})))}))}},watch:{dataCode:function(){this.code=this.dataCode}},computed:{getCreatedAt:function(){return Xe.a.format(new Date(this.code.createdAt),"YYYY/MM/DD HH:mm:ss")}}},et=Ze,tt=(s("5cba"),Object(n["a"])(et,Le,qe,!1,null,"e9685ede",null)),st=tt.exports,at={components:{VCodeItem:st},props:{isActive:{type:Boolean,default:!1},dataCode:{type:[Object,Array],required:!0}},data:function(){return{active:this.isActive,code:this.dataCode}},methods:{handleClose:function(){this.active=!1,this.code=[],this.$emit("close")}}},rt=at,ot=Object(n["a"])(rt,Ae,Ie,!1,null,null,null),nt=ot.exports,it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"control"},[s("textarea",{staticClass:"textarea",class:{"is-danger":e.hasError},attrs:{placeholder:e.placeholder,rows:e.rows,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])},lt=[],ct={props:{placeholder:{type:String,default:"Placeholder text area here..."},rows:{type:Number,default:5},disabled:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1},value:{type:String,default:""}}},ut=ct,dt=Object(n["a"])(ut,it,lt,!1,null,null,null),ht=dt.exports,gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ValidationProvider",{attrs:{name:"twoslash",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("v-select-options",{attrs:{data:e.$store.state.code.twoslashes,name:"Twhoslash",disabled:e.progress},on:{input:e.updateValue},model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}}),s("v-input-error",{attrs:{error:a[0]}})],1)]}}])})},mt=[],pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"control"},[s("div",{staticClass:"select is-fullwidth",class:{"is-danger":e.hasError,"is-loading":e.hasLoading}},[s("select",{attrs:{id:e.name,disabled:e.disabled},on:{change:function(t){return e.$emit("input",t.target.value)}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[e._v("Select "+e._s(e.name))]),e._l(e.data,(function(t,a){return s("option",{key:a,domProps:{value:t,selected:e.isSelected(t)}},[e._v(" "+e._s(t)+" ")])}))],2)])])},ft=[],vt={props:{name:{type:String,required:!0},data:{type:[Array,Object],required:!0},hasError:{type:Boolean,default:!1},hasLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},value:{type:[String,Number],default:""}},computed:{isSelected:function(){var e=this;return function(t){return e.value===t}}}},bt=vt,Ct=Object(n["a"])(bt,pt,ft,!1,null,null,null),yt=Ct.exports,_t={components:{VInputError:ae,VSelectOptions:yt},props:{progress:{type:Boolean,default:!1}},data:function(){return{selectedValue:""}},methods:{updateValue:function(e){e?this.$emit("input",e):this.$emit("input",null)}}},wt=_t,xt=Object(n["a"])(wt,gt,mt,!1,null,null,null),$t=xt.exports,St=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ValidationProvider",{attrs:{name:"languange",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("v-select-options",{attrs:{name:"Languange",data:e.$store.state.code.languages,disabled:e.progress,hasError:e.getError(a[0]),value:e.value},on:{input:e.updateValue}}),s("v-input-error",{attrs:{error:a[0]}})],1)]}}])})},kt=[],Et={components:{VSelectOptions:yt,VInputError:ae},props:{progress:{type:Boolean,default:!1},value:{type:[String,Number],default:""}},created:function(){this.$store.dispatch("code/getLanguages")},methods:{getError:function(e){return!!e},updateValue:function(e){e?this.$emit("input",e):this.$emit("input",null)}}},Ot=Et,Nt=Object(n["a"])(Ot,St,kt,!1,null,null,null),Pt=Nt.exports,jt=(s("ac1f"),s("5319"),s("1276"),function(e){var t=e.replace(" ","").split(".");return t[t.length-1]}),Vt={components:{VNavbar:Me,CodeItemModal:nt,CodeLanguangeOptions:Pt,CodeTwoslashOptions:$t,VInput:U,VInputError:ae,VButton:Q,VTextArea:ht,VAlertMessage:R},data:function(){return{progress:!1,modal:{show:!1,code:[]},form:{code:"",lang:"",fileName:"",highlight:"",twoslash:""},message:{success:"",error:""},languange:""}},beforeCreate:function(){document.body.className=""},methods:{onSubmit:function(){this.storeCode()},closeModal:function(){this.resetForm(),this.modal.code=[],this.modal.show=!1},resetForm:function(){this.form.code="",this.form.lang="",this.form.fileName="",this.form.highlight="",this.form.twoslash="",this.languange="",this.form.twoslash="",this.$refs.form.reset()},storeCode:function(){var e=this;this.progress=!0,this.form.lang=jt(this.form.fileName);var t={userId:this.$store.state.user.id,dataCode:this.form};this.$store.dispatch("code/store",t).then((function(t){e.$store.dispatch("code/getSingle",{userId:t.user,codeId:t.id,highlighted:1}).then((function(t){e.modal.code=t,e.modal.show=!0,e.progress=!1,e.resetForm()})).catch((function(t){e.progress=!1,e.message.error=t})),e.progress=!1})).catch((function(t){e.progress=!1,e.message.error=t}))},clearMessage:function(){this.message.error="",this.message.success=""}},computed:{getError:function(){return function(e){return!!e}},alertMessage:function(){return this.message.error&&this.message.error.length>0?this.message.error:this.message.success&&this.message.success.length>0?this.message.success:""},alertColor:function(){return this.message.error&&this.message.error.length>0?"is-danger":this.message.success&&this.message.success.length>0?"is-success":""}}},Mt=Vt,At=(s("365e"),Object(n["a"])(Mt,$e,Se,!1,null,"662c2546",null)),It=At.exports,Lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-navbar"),s("main",{staticClass:"px-5"},[s("div",{staticClass:"container"},[s("nav",{staticClass:"filter_container mt-6"},[s("div",{staticClass:"filter_left"},[s("p",{staticClass:"mr-2"},[e._v("Show")]),s("div",{staticClass:"select mr-2"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.limit,expression:"limit"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.limit=t.target.multiple?s:s[0]},e.getCodes]}},e._l(e.set.limit,(function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)]),s("p",[e._v("entries")])]),s("div",{staticClass:"filter_right"},[s("ul",[s("li",{staticClass:"mr-5"},[e._v("Sorted")]),s("li",{staticClass:"mr-2"},[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortBy=t.target.multiple?s:s[0]},e.getCodes]}},e._l(e.set.sortby,(function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)])]),s("li",[s("div",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.sort,expression:"sort"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sort=t.target.multiple?s:s[0]},e.getCodes]}},e._l(e.set.sort,(function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)])])])])]),s("hr",{staticClass:"section_border"}),s("div",{staticClass:"main_content"},[this.$store.state.code.isLoading?s("div",[s("v-loading-section")],1):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.$store.state.code.codes.length,expression:"$store.state.code.codes.length == 0"}],staticClass:"py-6"},[s("h1",{staticClass:"is-size-3 has-text-centered has-text-weight-light"},[e._v(" Code Not Found! ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.$store.state.code.codes.length,expression:"$store.state.code.codes.length != 0"}],staticClass:"columns is-multiline py-6"},e._l(e.$store.state.code.codes,(function(e,t){return s("div",{key:t,staticClass:"column is-6"},[s("v-code-item",{attrs:{dataCode:e}})],1)})),0)])])])],1)},qt=[],Bt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Rt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loading_container"},[s("div",{staticClass:"lds-roller"},[s("div"),s("div"),s("div"),s("div"),s("div"),s("div"),s("div"),s("div")])])}],Ft=(s("9390"),{}),Dt=Object(n["a"])(Ft,Bt,Rt,!1,null,null,null),zt=Dt.exports,Ht={components:{VNavbar:Me,VCodeItem:st,VLoadingSection:zt},data:function(){return{progress:!1,limit:5,sortBy:"fileName",sort:"ASC",isActiveHighlight:1,set:{limit:[5,10,25,50,100,1e3],sortby:["fileName","lang","createdAt"],sort:["ASC","DESC"]}}},beforeCreate:function(){document.body.className=""},created:function(){this.getCodes()},methods:{getCodes:function(){this.progress=!0;var e={userId:this.$store.state.user.id,filter:{page:this.page,limit:this.limit,sortBy:this.sortBy,sort:this.sort,highlighted:this.isActiveHighlight}};this.$store.dispatch("code/getList",e),this.progress=!1}}},Tt=Ht,Ut=(s("e341"),Object(n["a"])(Tt,Lt,qt,!1,null,"e8b9863c",null)),Yt=Ut.exports,Jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-navbar"),s("main",[s("div",{staticClass:"container"},[0==e.code.length?s("div",{staticClass:"py-6"},[s("v-loading-section")],1):e._e(),0!=e.code.length?s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-full mt-6 box px-4 py-5"},[s("h1",{staticClass:"is-size-5"},[e._v("Edit Code")]),s("ValidationObserver",{ref:"form",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit;return[s("form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)}}},[s("div",{staticClass:"columns mt-4"},[s("div",{staticClass:"column pr-1"},[s("ValidationProvider",{attrs:{name:"filename",rules:"required|min:5|filename"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fileName,expression:"fileName"}],staticClass:"input",class:{"is-danger":a[0]},attrs:{type:"text",placeholder:"Filename",disabled:e.progress},domProps:{value:e.fileName},on:{input:function(t){t.target.composing||(e.fileName=t.target.value)}}})]),a[0]?s("p",{staticClass:"help is-danger"},[e._v(" "+e._s(a[0])+" ")]):e._e()])]}}],null,!0)})],1),s("div",{staticClass:"column pl-1"},[s("ValidationProvider",{attrs:{name:"highlight row",rules:"highlightRow"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("div",{staticClass:"control is-expanded"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.highlight,expression:"highlight"}],staticClass:"input",class:{"is-danger":a[0]},attrs:{type:"text",placeholder:"Highlight Row",disabled:e.progress},domProps:{value:e.highlight},on:{input:function(t){t.target.composing||(e.highlight=t.target.value)}}})]),a[0]?s("p",{staticClass:"help is-danger"},[e._v(" "+e._s(a[0])+" ")]):e._e()])]}}],null,!0)})],1)]),s("ValidationProvider",{attrs:{name:"code",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors;return[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"textarea",class:{"is-danger":a[0]},attrs:{placeholder:"Write or paste your code here...",rows:"10",disabled:e.progress},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),a[0]?s("p",{staticClass:"help is-danger"},[e._v(" "+e._s(a[0])+" ")]):e._e()])]}}],null,!0)}),s("div",{staticClass:"field is-grouped is-grouped-right mt-4"},[s("p",{staticClass:"control"},[s("a",{staticClass:"button is-warning",on:{click:e.handleReset}},[e._v("Reset")])]),s("p",{staticClass:"control"},[s("router-link",{staticClass:"button is-light",attrs:{to:{name:"code"}}},[e._v("Back")])],1),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-primary",class:{"is-loading":e.progress},attrs:{type:"submit"}},[e._v(" Update ")])])])],1)]}}],null,!1,1171236231)})],1)]):e._e()])])],1)},Wt=[],Gt={components:{VNavbar:Me,VLoadingSection:zt},props:{id:{type:String,required:!0}},data:function(){return{progress:!1,code:"",highlight:"",fileName:"",errorMessage:"",successMessage:""}},created:function(){this.getOldCode()},mounted:function(){},methods:{handleReset:function(){this.code="",this.getOldCode()},onSubmit:function(){this.$store.dispatch("code/update",{userId:this.$store.state.user.id,codeId:this.id,fileName:this.fileName,lang:jt(this.fileName),code:this.code,highlight:this.highlight}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))},getOldCode:function(){var e=this;this.$store.dispatch("code/getSingle",{userId:this.$store.state.user.id,codeId:this.id,highlighted:0}).then((function(t){e.code=t.code,e.fileName=t.fileName,e.highlight=t.highlight})).catch((function(e){console.log(e)}))}}},Kt=Gt,Qt=(s("b6f6"),Object(n["a"])(Kt,Jt,Wt,!1,null,"118ca674",null)),Xt=Qt.exports;a["a"].use(N["a"]);var Zt=[{path:"/",name:"home",component:It,meta:{requiresAuth:!0}},{path:"/auth",name:"auth",component:ie},{path:"/code",name:"code",component:Yt,meta:{requiresAuth:!0}},{path:"/code/:id",name:"editcode",component:Xt,meta:{requiresAuth:!0},props:!0},{path:"/login",name:"login",component:de,props:!0,meta:{requiresVisitor:!0}},{path:"/register",name:"register",component:xe,meta:{requiresVisitor:!0}},{path:"/logout",name:"logout",component:ve,meta:{requiresAuth:!0}}],es=new N["a"]({mode:"hash",routes:Zt,base:"/code-highlighter/"});es.beforeEach((function(e,t,s){e.matched.some((function(e){return e.meta.requiresAuth}))?O.state.user.id||O.state.user.name?s():s({name:"login"}):e.matched.some((function(e){return e.meta.requiresVisitor}))&&O.state.user.id&&O.state.user.name?s({name:"home"}):s()}));var ts=es,ss=(s("4160"),s("b64b"),s("466d"),s("159b"),s("5530")),as=s("7bb1"),rs=s("4c93"),os=s("2593"),ns=function(){Object.keys(rs).forEach((function(e){Object(as["c"])(e,Object(ss["a"])(Object(ss["a"])({},rs[e]),{},{message:os["a"][e]}))})),Object(as["c"])("filename",{validate:function(e){var t=e.replace(" ","").split("."),s=t.filter((function(e){return""!=e}));return 2===s.length},message:"Filename is not valid, ex: index.js, index.php"}),Object(as["c"])("highlightRow",{validate:function(e){e.replace(" ","");var t=/^\d+$/,s=e.split("-"),a=e.split(","),r=function(e){for(var s=0;s<e.length;s++)if(!e[s].match(t))return!1;return!0},o=function(e){for(var s=0;s<e.length;s++){var a=e[s].split("-");if(!a||2!=a.length)return!1;for(var r=0;r<a.length;r++)if(!a[s].match(t))return!1}return!0};return!!e.match(t)||(!!r(s)||(!!r(a)||!!o(a)))},message:"Highlight Row is not valid, e.g. 1 or 3-5 or 3,5,7 or 3-5,9-13"}),a["a"].component("ValidationProvider",as["b"]),a["a"].component("ValidationObserver",as["a"])},is=ns;s("eb46"),s("5aea"),s("3aff");a["a"].config.productionTip=!1,is();var ls={position:"top right",showDuration:2e3,timeOut:5e3,progressBar:!0};a["a"].use(b.a,ls),new a["a"]({router:ts,store:O,render:function(e){return e(c)}}).$mount("#app")},"5aea":function(e,t,s){},"5cba":function(e,t,s){"use strict";var a=s("751f"),r=s.n(a);r.a},"751f":function(e,t,s){},9390:function(e,t,s){"use strict";var a=s("4ad4"),r=s.n(a);r.a},b6f6:function(e,t,s){"use strict";var a=s("378b"),r=s.n(a);r.a},cca3:function(e,t,s){},e341:function(e,t,s){"use strict";var a=s("1e12"),r=s.n(a);r.a}});
//# sourceMappingURL=app.92c0b8ee.js.map